import ccxt

# Replace these with your actual API keys and password
api_key = '****'
secret = '****'
password = '****'

# Initialize the KuCoin Futures exchange object
exchange = ccxt.kucoinfutures({
    'apiKey': api_key,
    'secret': secret,
    'password': password,
    'enableRateLimit': True,  # This enables rate limiting, which protects your account
})

try:
    # Load your account balances
    exchange.load_markets()
    balances = exchange.fetch_balance()

    # Find the futures account balance
    futures_balance = balances['total']['USDT']  # Replace 'USDT' with your futures trading currency

    print(f'Your KuCoin futures account balance is: {futures_balance} USDT')

    # Fetch the price of an asset (e.g., BTC/USDT)
    symbol = 'XBTUSDTM'
    ticker = exchange.fetch_ticker(symbol)
    price = ticker['last']  # Last traded price for the symbol

    print(f'Current price of {symbol}: {price}')

except ccxt.NetworkError as e:
    print(f'Network error: {e}')

except ccxt.ExchangeError as e:
    print(f'Exchange error: {e}')

except Exception as e:
    print(f'Error: {e}')
